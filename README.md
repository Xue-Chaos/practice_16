# practice_16
传感器应用开发（初级） 公开训练题16套 实操部分

![image](https://user-images.githubusercontent.com/104015167/199658407-dc0c2cfe-0e34-480e-a57e-bf18ce077fd0.png)


任务二（47分）
任务描述：基于ZigBee模块（白板）进行基础开发，上电先让LED1和LED2都灭，然后通过定时器每隔1秒进行温湿度光敏传感器数据的定时采集。并根据光照值来控制LED1和LED2的亮灭，当有光照时，LED1和LED2亮，当没有光照时，LED1和LED2灭。每次LED1和LED2的状态发生改变时，往串口发送相应数据告知光照情况的变化。

设备列表：
1、	ZigBee模块（白板）（含天线）1块
2、	NEWLab智慧盒（含USB连接线）1个
3、	CC Debugger烧写器1个
4、	温湿度光敏传感器1个（或光敏传感器1个）
接线说明：
把ZigBee模块（白板）放到智慧盒上，智慧盒用USB连接线与PC机相连。
注意事项：
如果ZigBee模块（白板）上有JP2拨码开关，请确保JP2拨向左边J9处，如果没有JP2拨码开关则可以不用处理。

任务要求：
打开C:\JoyWork\01\work\ZigBee\Task\下的项目工程，在“test.c”中添加代码实现以下功能：    
1、ZigBee模块一上电，LED1灯和LED2灯都灭。（2分）
2、使用定时器1中断方式来控制采集传感器数据的时间，定时器1参数配置要求采用自由运行模式、128分频。（4分）
3、温湿度光敏传感器插在ZigBee的传感器插槽上，查看相关的电路图和数据手册，设置采集温湿度光敏传感器的引脚初始化和ADC相关参数，ADC要求配置为： 3.3V电压(AVDD5引脚)、128位抽取率、AIN0单通道。（9分）
4、串口通信要求使用串口0的备用位置1: P0_2(RX), P0_3(TX)，波特率19200，奇偶校验无，1位停止位，8位数据位，流控无。（8分）
5、定时1秒后，采集一次传感器的值（注：要求将该处代码中的“100”改成正确的值，且通过使用变量“light_val”实现采集传感器的值）。（4分）
6、根据光照状态是否发生变化来控制两个LED的亮灭，有光照则两个LED都亮，没有则都灭。（4分）
7、将光照情况上发到串口显示。把串口输出信息截图保存至“图集.docx”中的8.png处，注：串口接收信息时要选择“ASCII码”格式；发送的光照信息格式应如：“光照值：0.25V”,且添加相应的回车(“\r”)、换行(“\n”)、结束(“\0”)符号。（16分）
8、考试时间截止后，确保“图集.docx”和源码工程文件已保存后， 对work文件夹进行压缩，点击“上传文件”将压缩后的“work.zip”上传至服务器指定目录。
